tasks.register('clean') {
    group = 'Build'
    description = 'Deletes the build directory'
    dependsOn(gradle.includedBuild('todo').task(':model:clean'))
    dependsOn(gradle.includedBuild('todo').task(':repository:clean'))
    dependsOn(gradle.includedBuild('todo').task(':web:clean'))
}

tasks.register('test') {
    group = 'verification'
    description = 'Runs the unit tests'
    dependsOn(gradle.includedBuild('todo').task(':model:test'))
    dependsOn(gradle.includedBuild('todo').task(':repository:test'))
    dependsOn(gradle.includedBuild('todo').task(':web:test'))
}

tasks.register('integrationTest') {
    group = 'verification'
    description = 'Runs the integration tests'
    dependsOn(gradle.includedBuild('todo').task(':repository:check'))
}
// This is an example of a lifecycle task that crosses build boundaries defined in the umbrella build.
tasks.register('checkFeatures') {
    group = 'verification'
    description = 'Run all feature tests'
    dependsOn(gradle.includedBuild('todo').task(':model:check'))
    dependsOn(gradle.includedBuild('todo').task(':repository:check'))
    dependsOn(gradle.includedBuild('todo').task(':web:check'))
}

tasks.register('report') {
    group = 'Reports'
    description = 'Runs the integration tests'
    dependsOn(gradle.includedBuild('todo').task(':model:reportAll'))
    dependsOn(gradle.includedBuild('todo').task(':repository:reportAll'))
    dependsOn(gradle.includedBuild('todo').task(':web:reportAll'))
}

tasks.register('assemble') {
    group = 'Build'
    description = 'Assembles and tests this project'
    dependsOn(gradle.includedBuild('todo').task(':model:assemble'))
    dependsOn(gradle.includedBuild('todo').task(':repository:assemble'))
    dependsOn(gradle.includedBuild('todo').task(':web:assemble'))
}

tasks.register('build') {
    group = 'Build'
    description = 'Assembles and tests this project'
    dependsOn(gradle.includedBuild('todo').task(':model:build'))
    dependsOn(gradle.includedBuild('todo').task(':repository:build'))
    dependsOn(gradle.includedBuild('todo').task(':web:build'))
}

tasks.register('publish') {
    group = 'Publishing'
    description = 'Assembles and tests this project'
    dependsOn(gradle.includedBuild('todo').task(':model:publish'))
    dependsOn(gradle.includedBuild('todo').task(':repository:publish'))
    dependsOn(gradle.includedBuild('todo').task(':web:publish'))
}